<?php

/**
 * Created by PhpStorm.
 * User: user
 * Date: 19.11.2017
 * Time: 18:30
 */
class CallbackController extends BaseController
{
    private $secret = 'qwAFwe12Qwefh';
    /** @var $admin BotEntity  */
    private $bot   = null;

    public function init()
    {
        $this->bot = new BotEntity();
        parent::init(); // TODO: Change the autogenerated stub
    }

    /**
     * @return null
     */
    public function actionVk()
    {
        $data = json_decode(file_get_contents('php://input'));

        if ($data->type == 'board_post_new' && $data->object->from_id != ('-' . Globals::$config->group_id)) {
            VkSdk::addComment('1c33a02babbbe8ea15635e3abb8fd8c617cd471c2aaaf7e038aca18020224bf5ab4c698ab433f591e2f00', $data->object->from_id);
        }

        echo 'ok';
        exit();
    }
}